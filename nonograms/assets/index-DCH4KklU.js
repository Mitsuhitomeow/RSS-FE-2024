(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();class l{constructor(){this.second=0,this.minute=0,this.hour=0,this.time="00:00:00",this.running=!1,this.intervalId=null}start(){this.time=`${l.formatTime(this.hour)}:${l.formatTime(this.minute)}:${l.formatTime(this.second)}`,this.running=!0,this.intervalId=setInterval(()=>{this.tick()},1e3)}pause(){this.intervalId!==null&&(clearInterval(this.intervalId),this.intervalId=null,this.running=!1)}restart(){this.second=0,this.minute=0,this.hour=0,this.time="00:00:00"}tick(){this.second+=1,this.second===60&&(this.second=0,this.minute+=1,this.minute===60&&(this.minute=0,this.hour+=1)),this.time=`${l.formatTime(this.hour)}:${l.formatTime(this.minute)}:${l.formatTime(this.second)}`}static formatTime(e){return e<10?`0${e}`:e}getTime(){return this.time}isRunning(){return this.running}}class v{constructor(e,t){this.ground=document.createElement("section"),this.columns=[],this.matrix=[],this.time=t,this.initPlayground(e),this.addClick()}updatePlayground(e){this.initPlayground(e),this.addClick()}initPlayground(e){this.ground.innerHTML="",this.ground.className="main__section-playground";for(let t=0;t<e+1;t+=1){const s=document.createElement("div");this.ground.append(s),s.className="row",t===0&&(s.className="first__row");for(let i=0;i<e+1;i+=1){const n=document.createElement("div");s.append(n),n.className="column",t===0&&(n.className="hint hint__top hint__background"),i===0&&(n.className="hint hint__left hint__background"),t===0&&i===0&&(n.className="zero hint__background"),this.columns.push(n)}}}addClick(){this.columns.forEach(e=>{const t=e;e.classList.contains("column")&&(t.addEventListener("click",()=>{this.time.isRunning()||this.time.start(),e.innerHTML===""&&!e.classList.contains("cross")?e.classList.toggle("black"):e.classList.remove("black")}),t.addEventListener("contextmenu",s=>{s.preventDefault(),this.time.isRunning()||this.time.start(),e.innerHTML===""&&!e.classList.contains("black")?(t.classList.toggle("cross"),t.innerHTML=`
              <svg viewBox="0 0 25 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
                  <g id="Icon-Set-Filled" sketch:type="MSLayerGroup" transform="translate(-469.000000, -1041.000000)" fill="#000000">
                    <path d="M487.148,1053.48 L492.813,1047.82 C494.376,1046.26 494.376,1043.72 492.813,1042.16 C491.248,1040.59 488.712,1040.59 487.148,1042.16 L481.484,1047.82 L475.82,1042.16 C474.257,1040.59 471.721,1040.59 470.156,1042.16 C468.593,1043.72 468.593,1046.26 470.156,1047.82 L475.82,1053.48 L470.156,1059.15 C468.593,1060.71 468.593,1063.25 470.156,1064.81 C471.721,1066.38 474.257,1066.38 475.82,1064.81 L481.484,1059.15 L487.148,1064.81 C488.712,1066.38 491.248,1066.38 492.813,1064.81 C494.376,1063.25 494.376,1060.71 492.813,1059.15 L487.148,1053.48" id="cross" sketch:type="MSShapeGroup">
                    </path>
                  </g>
                </g>
              </svg>
            `):(t.classList.remove("cross"),t.innerHTML="")}))})}getElement(){return this.ground}}const C={5:[{name:"Dinosaur",pixels:[[0,0,0,1,1],[0,0,1,1,0],[0,1,1,1,1],[1,1,1,1,0],[0,1,0,1,0]]},{name:"Smile Face",pixels:[[0,1,1,1,0],[1,0,1,0,1],[1,1,1,1,1],[1,0,0,0,1],[0,1,1,1,0]]},{name:"Anchor",pixels:[[0,1,1,1,0],[0,0,1,0,0],[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0]]},{name:"Alien",pixels:[[1,1,0,1,1],[0,1,1,1,0],[1,1,1,1,1],[0,1,1,1,0],[0,1,0,1,0]]},{name:"Smile Face",pixels:[[1,1,1,1,1],[0,1,1,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,1,1,1,1]]}],10:[{name:"Creeper Face",pixels:[[1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,1],[1,0,1,1,0,0,1,1,0,1],[1,0,1,1,0,0,1,1,0,1],[1,0,0,0,1,1,0,0,0,1],[1,0,0,1,1,1,1,0,0,1],[1,0,0,1,1,1,1,0,0,1],[1,0,0,1,0,0,1,0,0,1],[1,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1]]},{name:"Vampyre",pixels:[[0,0,1,1,1,1,1,1,0,0],[0,1,0,0,0,0,0,0,1,0],[0,1,0,1,0,0,1,0,1,0],[0,1,0,0,0,0,0,0,1,0],[0,1,1,0,1,1,0,1,1,0],[0,0,0,1,0,0,1,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,1,0,1,1,0,1,0,0],[0,0,1,1,0,0,1,1,0,0],[0,0,0,1,1,1,1,0,0,0]]},{name:"Question mark",pixels:[[0,0,1,1,1,1,1,1,0,0],[0,1,1,0,0,0,0,1,1,0],[0,1,1,0,0,0,0,1,1,0],[0,0,0,0,0,0,0,1,1,0],[0,0,0,0,0,0,1,1,1,0],[0,0,0,0,1,1,1,1,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0]]},{name:"Snail",pixels:[[0,0,1,1,1,1,0,0,0,0],[0,1,1,0,1,1,1,0,0,0],[1,1,1,1,0,1,1,1,0,0],[1,0,1,1,1,0,1,1,0,0],[1,1,1,1,1,0,1,1,0,0],[1,1,1,1,0,1,1,0,0,0],[1,1,1,1,1,1,1,0,1,0],[1,1,1,1,1,1,0,0,0,1],[0,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,0]]},{name:"Leaf",pixels:[[0,0,0,0,0,1,1,1,1,1],[0,0,0,1,1,1,0,1,0,1],[0,0,1,1,0,1,0,1,1,1],[0,1,0,1,0,1,1,0,0,1],[0,1,0,1,0,1,1,1,1,1],[0,1,0,1,1,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,0],[0,0,1,0,0,0,0,1,0,0],[0,1,0,1,1,1,1,0,0,0],[1,1,0,0,0,0,0,0,0,0]]}],15:[{name:"Smile Face",pixels:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,1,0,1,0,0,0,0,0,1,0,1,0,0],[0,0,1,1,0,0,0,0,0,0,0,1,1,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,1,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,0,1,0,1,1,0,1,0,1,1,0,1,0],[0,1,0,1,1,1,1,0,1,0,1,1,0,1,0],[0,1,0,0,1,1,0,0,0,1,1,0,0,1,0],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,0,0,0,1,1,1,1,0,0,1,0,0],[0,0,1,1,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]},{name:"Mouse",pixels:[[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,1,1,1,1,0,0,1,1,0,1],[0,0,0,1,1,1,0,0,1,0,0,1,0,1,0],[1,1,1,0,1,0,0,1,1,0,0,1,0,0,0],[1,1,0,0,0,0,0,1,0,0,0,1,1,0,0],[0,1,1,1,1,0,0,1,1,0,0,0,1,1,0],[0,0,0,0,1,1,0,0,1,1,0,0,0,1,1],[0,0,0,0,0,1,0,0,0,1,1,1,0,0,1],[0,0,0,0,0,1,1,0,0,0,0,1,1,0,1],[0,0,0,1,1,1,1,0,0,0,0,0,1,1,1],[0,0,0,1,0,1,0,0,1,1,0,0,0,1,1],[0,0,0,0,0,1,0,0,1,0,0,0,0,1,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,1,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,1,0],[0,0,0,1,1,1,0,1,1,0,1,1,1,0,0]]},{name:"Treble clef",pixels:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,0,1,1,1,1,1,1,1,1,1,1],[1,1,1,0,1,0,1,1,1,1,1,1,1,1,1],[0,0,1,0,1,0,1,0,0,0,0,0,0,0,0],[1,1,1,0,1,0,1,1,1,1,1,1,1,0,1],[0,1,1,0,0,1,1,0,0,0,0,0,0,0,0],[1,1,0,0,1,1,1,1,1,1,0,1,1,0,1],[1,0,1,0,0,1,1,0,0,0,0,0,0,0,0],[1,0,0,0,1,0,1,1,1,1,0,1,0,1,1],[1,0,1,0,1,0,1,0,0,0,0,0,0,0,0],[1,1,0,0,0,1,1,1,1,0,1,1,1,1,1],[1,1,1,0,1,1,0,0,0,0,0,0,0,0,0],[1,0,1,0,1,1,1,1,1,1,1,1,1,1,1],[1,1,0,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]},{name:"Alarm clock",pixels:[[0,0,1,1,1,0,0,0,0,0,1,1,1,0,0],[0,1,1,1,0,1,1,1,1,1,0,1,1,1,0],[1,1,1,0,1,1,1,0,1,1,1,0,1,1,1],[1,1,0,1,1,1,1,0,1,1,1,1,0,1,1],[1,0,1,1,1,1,1,1,1,1,0,1,1,0,1],[0,0,1,1,1,1,1,1,1,0,1,1,1,0,0],[0,1,1,1,1,1,1,1,0,1,1,1,1,1,0],[0,1,0,0,1,0,0,0,1,1,1,0,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,0,1,1,1,1,1,0,0],[0,0,0,1,1,1,1,0,1,1,1,1,0,0,0],[0,0,1,0,0,1,1,1,1,1,0,0,1,0,0],[0,1,0,0,1,0,1,1,1,0,1,0,0,1,0],[0,0,1,1,0,0,0,0,0,0,0,1,1,0,0]]},{name:"Sun",pixels:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,0,1,1,1,1,1,1,1],[1,1,0,1,1,1,1,0,1,1,1,1,0,1,1],[1,1,1,0,1,1,1,1,1,1,1,0,1,1,1],[1,1,1,1,1,0,0,0,0,0,1,1,1,1,1],[1,1,1,1,0,0,0,0,0,0,0,1,1,1,1],[1,1,1,1,0,0,1,0,1,0,0,1,1,1,1],[1,0,0,1,0,0,0,0,0,0,0,1,0,0,1],[1,1,1,1,0,1,0,0,0,1,0,1,1,1,1],[1,1,1,1,0,0,1,1,1,0,0,1,1,1,1],[1,1,1,1,1,0,0,0,0,0,1,1,1,1,1],[1,1,1,0,1,1,1,1,1,1,1,0,1,1,1],[1,1,0,1,1,1,1,0,1,1,1,1,0,1,1],[1,1,1,1,1,1,1,0,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]}]},f={images:C};function L(r,e){const t=document.querySelectorAll(".hint__left"),s=document.querySelectorAll(".hint__top"),i=(n,o)=>{n.forEach((a,m)=>{const h=o[m];h.forEach((E,d)=>{const p=document.createElement("span");p.textContent=h[d],a.append(p)})})};i(t,r),i(s,e)}function x(r){const e=r.length,t=r[0].length,s=r.map(n=>n.reduce((o,a)=>(a===1?o[o.length-1]+=1:o[o.length-1]!==0&&o.push(0),o),[0]).filter(o=>o!==0));s.forEach(n=>{n.length===0&&n.push(0)});const i=Array.from({length:t},()=>[]);for(let n=0;n<t;n+=1){let o=0;for(let a=0;a<e;a+=1)r[a][n]===1?o+=1:o!==0&&(i[n].push(o),o=0);o!==0&&i[n].push(o),i[n].length===0&&i[n].push(0)}L(s,i)}function S(){const[r,e]=[document.querySelectorAll(".hint__top"),document.querySelectorAll(".hint__left")];r.forEach(t=>{const s=t;s.innerHTML=""}),e.forEach(t=>{const s=t;s.innerHTML=""})}function y(){const r=localStorage.getItem("saveGame");console.log("continue: ",JSON.parse(r))}function _(r){console.log("записано в таблицу: ",r.getTime())}function b(){console.log("results: ")}let c,u;function T(r,e){const t=document.querySelectorAll(".column"),s=r;c=[],t.forEach(()=>c.push(0)),u=c,t.forEach((i,n)=>{i.addEventListener("click",()=>{if(i.classList.contains("cross"))return;if(u[n]===0?u[n]=1:u[n]=0,u.every((a,m)=>a===r.flat()[m])){const a=e.getTime();e.pause(),alert(`Массивы идентичны!, Время: ${a}`),_(e)}console.log(c)})}),x(s)}function g(r){const e=document.querySelectorAll(".column");c=[],e.forEach(()=>c.push(0)),u=c,e.forEach(t=>{const s=t;s.classList.remove("black"),s.classList.remove("cross"),s.innerHTML=""}),r.pause(),r.restart(),S()}function k(r){c=[];const e=document.querySelectorAll(".column");e.forEach(()=>c.push(0)),u=c,e.forEach(t=>{const s=t;s.classList.remove("black"),s.classList.remove("cross"),s.innerHTML=""}),r.pause(),r.restart()}function N(){console.log("save: ",c),c&&localStorage.setItem("saveGame",JSON.stringify(c))}function P(r,e){const t=r,[s,i,n,o,a,m,h]=[document.createElement("div"),document.createElement("button"),document.createElement("button"),document.createElement("button"),document.createElement("button"),document.createElement("button"),document.createElement("button")];[i,n,o,a,m,h].forEach(d=>{d.classList.add("btn"),s.appendChild(d)}),i.addEventListener("click",()=>k(e)),n.addEventListener("click",N),o.addEventListener("click",y),a.addEventListener("click",b),r.appendChild(s),t.className="main__section-buttons",s.className="main__block-buttons",i.textContent="Reset",n.textContent="Save",o.textContent="Continue",a.textContent="Results",m.textContent="Solution",h.textContent="Random Game",n.disabled=!0,o.disabled=!0,a.disabled=!0,m.disabled=!0,h.disabled=!0}class M{constructor(e){this.time=e,this.ground=new v(5,e),this.value=5,this.size=this.value,this.arrayPictures=f.images,this.matrixPicture=this.arrayPictures[this.size][0].pixels,[this.section,this.sectionButton,this.sizeControl,this.imageSection,this.container]=[document.createElement("section"),document.createElement("section"),document.createElement("select"),document.createElement("select"),document.createElement("div")],this.initGroundSize(),this.initButtonsSection(),this.initImageSelection(this.value)}initGroundSize(){const[e,t,s]=[document.createElement("option"),document.createElement("option"),document.createElement("option")];this.section.appendChild(this.container),this.container.appendChild(this.sizeControl),this.sizeControl.appendChild(e),this.sizeControl.appendChild(t),this.sizeControl.appendChild(s),this.sizeControl.className="main__options-select",this.container.className="options__container",e.setAttribute("value","5"),t.setAttribute("value","10"),s.setAttribute("value","15"),e.textContent="5x5",t.textContent="10x10",s.textContent="15x15",this.sizeControl.value=this.value,this.sizeControl.addEventListener("change",()=>{this.size=+this.sizeControl.value,this.initImageSelection(this.size),this.ground.updatePlayground(this.size),console.log("-------")}),this.section.appendChild(this.ground.getElement())}initImageSelection(e){const t=document.createElement("option");this.arrayPictures=f.images[e],this.imageSection.innerHTML="",this.imageSection.className="image__section",t.textContent="---",this.imageSection.appendChild(t),this.container.appendChild(this.imageSection);const s=this.imageSection.cloneNode(!0);this.container.replaceChild(s,this.imageSection),this.imageSection=s,this.handleChange=()=>{const{value:i}=this.imageSection;if(i==="---"){g(this.time);return}const n=this.arrayPictures.find(o=>o.name===i);this.matrixPicture=n.pixels,g(this.time),T(this.matrixPicture,this.time)},this.imageSection.removeEventListener("change",this.handleChange),this.imageSection.addEventListener("change",this.handleChange),this.arrayPictures.forEach(i=>{const n=document.createElement("option");this.imageSection.appendChild(n),n.textContent=i.name,n.setAttribute("value",`${i.name}`)})}initButtonsSection(){P(this.sectionButton,this.time)}getElementsButton(){return this.sectionButton}getMatrixPicture(){return this.matrixPicture}getElement(){return this.section}getValue(){return this.value}}class w{constructor(){this.header=null,this.footer=null,this.main=null,this.components=[],this.initHeader(),this.initMain(),this.initFooter()}initHeader(){this.header=document.createElement("header");const e=document.createElement("div"),t=document.createElement("h1");t.textContent="Nonograms",this.header.className="header",e.className="header__container container",t.className="header__title title",this.header.append(e),e.append(t),this.components.push(this.header)}initMain(){this.main=document.createElement("main");const e=document.createElement("div"),t=document.createElement("div"),s=document.createElement("span"),i=new l;setInterval(()=>{s.innerHTML="",s.textContent=i.getTime()},1e3);const n=new M(i);this.main.className="main",e.className="main__container container",this.main.append(e),e.append(n.getElementsButton()),e.append(n.getElement()),e.append(t),t.append(s),this.components.push(this.main)}initFooter(){this.footer=document.createElement("footer");const e=document.createElement("div"),t=document.createElement("h1");t.textContent="© RS School Production 2024",this.footer.className="footer",e.className="footer__container container",t.className="footer__title title",this.footer.append(e),e.append(t),this.components.push(this.footer)}getElement(){return this.components.forEach(e=>{document.body.append(e)})}}const H=new w;H.getElement();
//# sourceMappingURL=index-DCH4KklU.js.map
