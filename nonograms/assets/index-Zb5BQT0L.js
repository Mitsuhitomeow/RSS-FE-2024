(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();class p{constructor(){this.second=0,this.minute=0,this.running=!1,this.intervalId=null,this.span=null,this.time="00:00"}start(){this.time=`${p.formatTime(this.minute)}:${p.formatTime(this.second)}`,this.running=!0,this.intervalId=setInterval(()=>{this.tick(),this.span.innerHTML="",this.span.innerHTML=this.time},1e3)}pause(){this.intervalId!==null&&(clearInterval(this.intervalId),this.intervalId=null,this.running=!1)}restart(){this.second=0,this.minute=0,this.time="00:00",this.span.innerHTML=this.time}tick(){this.second+=1,this.second===60&&(this.second=0,this.minute+=1),this.time=`${p.formatTime(this.minute)}:${p.formatTime(this.second)}`}static formatTime(e){return e<10?`0${e}`:e}getTime(){return this.time}isRunning(){return this.running}}class B{constructor(e,t){this.ground=document.createElement("section"),this.columns=[],this.matrix=[],this.time=t,this.initPlayground(e),this.addClick()}updatePlayground(e){this.initPlayground(e),this.addClick()}initPlayground(e){this.ground.innerHTML="",this.ground.className="main__section-playground";for(let t=0;t<e+1;t+=1){const n=document.createElement("div");this.ground.append(n),n.className="row",t===0&&(n.className="first__row");for(let s=0;s<e+1;s+=1){const i=document.createElement("div");if(n.append(i),i.className="column",t===0&&(i.className="hint hint__top hint__background"),s===0&&(i.className="hint hint__left hint__background"),t===0&&s===0){const a=document.createElement("span");this.time.span=a,a.innerHTML=this.time.time,i.append(a),a.className="section__time",i.className="zero hint__background"}this.columns.push(i)}}}addClick(){this.columns.forEach(e=>{const t=e;e.classList.contains("column")&&(t.addEventListener("click",()=>{this.time.isRunning()||this.time.start(),e.innerHTML===""&&!e.classList.contains("cross")?e.classList.toggle("black"):e.classList.remove("black")}),t.addEventListener("contextmenu",n=>{n.preventDefault(),this.time.isRunning()||this.time.start(),e.innerHTML===""&&!e.classList.contains("black")?(t.classList.toggle("cross"),t.innerHTML=`
              <svg viewBox="0 0 25 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
                <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
                  <g id="Icon-Set-Filled" sketch:type="MSLayerGroup" transform="translate(-469.000000, -1041.000000)" fill="#000000">
                    <path d="M487.148,1053.48 L492.813,1047.82 C494.376,1046.26 494.376,1043.72 492.813,1042.16 C491.248,1040.59 488.712,1040.59 487.148,1042.16 L481.484,1047.82 L475.82,1042.16 C474.257,1040.59 471.721,1040.59 470.156,1042.16 C468.593,1043.72 468.593,1046.26 470.156,1047.82 L475.82,1053.48 L470.156,1059.15 C468.593,1060.71 468.593,1063.25 470.156,1064.81 C471.721,1066.38 474.257,1066.38 475.82,1064.81 L481.484,1059.15 L487.148,1064.81 C488.712,1066.38 491.248,1066.38 492.813,1064.81 C494.376,1063.25 494.376,1060.71 492.813,1059.15 L487.148,1053.48" id="cross" sketch:type="MSShapeGroup">
                    </path>
                  </g>
                </g>
              </svg>
            `):(t.classList.remove("cross"),t.innerHTML="")}))})}getElement(){return this.ground}}const A={5:[{name:"Dinosaur",pixels:[[0,0,0,1,1],[0,0,1,1,0],[0,1,1,1,1],[1,1,1,1,0],[0,1,0,1,0]]},{name:"Smile Face",pixels:[[0,1,1,1,0],[1,0,1,0,1],[1,1,1,1,1],[1,0,0,0,1],[0,1,1,1,0]]},{name:"Anchor",pixels:[[0,1,1,1,0],[0,0,1,0,0],[0,0,1,0,0],[1,0,1,0,1],[0,1,1,1,0]]},{name:"Alien",pixels:[[1,1,0,1,1],[0,1,1,1,0],[1,1,1,1,1],[0,1,1,1,0],[0,1,0,1,0]]},{name:"Smile Face",pixels:[[1,1,1,1,1],[0,1,1,1,0],[0,0,1,0,0],[0,1,0,1,0],[1,1,1,1,1]]}],10:[{name:"Creeper Face",pixels:[[1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,1],[1,0,1,1,0,0,1,1,0,1],[1,0,1,1,0,0,1,1,0,1],[1,0,0,0,1,1,0,0,0,1],[1,0,0,1,1,1,1,0,0,1],[1,0,0,1,1,1,1,0,0,1],[1,0,0,1,0,0,1,0,0,1],[1,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1]]},{name:"Vampyre",pixels:[[0,0,1,1,1,1,1,1,0,0],[0,1,0,0,0,0,0,0,1,0],[0,1,0,1,0,0,1,0,1,0],[0,1,0,0,0,0,0,0,1,0],[0,1,1,0,1,1,0,1,1,0],[0,0,0,1,0,0,1,0,0,0],[0,0,1,0,0,0,0,1,0,0],[0,1,0,0,1,1,0,0,1,0],[1,0,1,1,0,0,1,1,0,1],[1,0,0,1,1,1,1,0,0,1]]},{name:"Question mark",pixels:[[0,0,1,1,1,1,1,1,0,0],[0,1,1,0,0,0,0,1,1,0],[0,1,1,0,0,0,0,1,1,0],[0,0,0,0,0,0,0,1,1,0],[0,0,0,0,0,0,1,1,1,0],[0,0,0,0,1,1,1,1,0,0],[1,0,0,0,1,1,0,0,0,1],[1,1,1,0,0,0,0,1,1,1],[1,1,1,0,1,1,0,1,1,1],[1,1,1,0,1,1,0,1,1,1]]},{name:"Snail",pixels:[[0,0,1,1,1,1,0,0,0,0],[0,1,1,0,1,1,1,0,0,0],[1,1,1,1,0,1,1,1,0,0],[1,0,1,1,1,0,1,1,0,0],[1,1,1,1,1,0,1,1,0,0],[1,1,1,1,0,1,1,0,0,0],[1,1,1,1,1,1,1,0,1,0],[1,1,1,1,1,1,0,0,0,1],[0,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,0]]},{name:"Leaf",pixels:[[0,0,0,0,0,1,1,1,1,1],[0,0,0,1,1,1,0,1,0,1],[0,0,1,1,0,1,0,1,1,1],[0,1,0,1,0,1,1,0,0,1],[0,1,0,1,0,1,1,1,1,1],[0,1,0,1,1,0,0,0,1,0],[0,1,1,1,1,1,1,1,1,0],[0,0,1,0,0,0,0,1,0,0],[0,1,0,1,1,1,1,0,0,0],[1,1,0,0,0,0,0,0,0,0]]}],15:[{name:"Smile Face",pixels:[[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,1,0,1,0,0,0,0,0,1,0,1,0,0],[0,0,1,1,0,0,0,0,0,0,0,1,1,0,0],[0,0,1,0,0,0,0,0,0,0,0,0,1,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[1,1,0,1,0,1,1,0,1,0,1,1,0,1,1],[1,1,0,1,1,1,1,0,1,0,1,1,0,1,1],[1,1,0,0,1,1,0,0,0,1,1,0,0,1,1],[0,1,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,0,0,0,1,1,1,1,0,0,1,0,0],[0,0,1,1,0,0,0,0,0,0,0,1,1,0,0],[0,0,0,0,1,1,0,0,0,1,1,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,0,1,0,0,0,1,0,0,0,0,0]]},{name:"Mouse",pixels:[[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,1,1,1,1,0,0,1,1,0,1],[0,0,0,1,1,1,0,0,1,0,0,1,0,1,0],[1,1,1,0,1,0,0,1,1,0,0,1,0,0,0],[1,1,0,0,0,0,0,1,0,0,0,1,1,0,0],[0,1,1,1,1,0,0,1,1,0,0,0,1,1,0],[0,0,0,0,1,1,0,0,1,1,0,0,0,1,1],[0,0,0,0,0,1,0,0,0,1,1,1,0,0,1],[0,0,0,0,0,1,1,0,0,0,0,1,1,0,1],[0,0,0,1,1,1,1,0,0,0,0,0,1,1,1],[0,0,0,1,0,1,0,0,1,1,0,0,0,1,1],[0,0,0,0,0,1,0,0,1,0,0,0,0,1,0],[0,0,0,0,0,0,1,0,1,0,0,0,0,1,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,1,0],[0,0,0,1,1,1,0,1,1,0,1,1,1,0,0]]},{name:"Treble clef",pixels:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,0,1,1,1,1,1,1,1,1,1,1],[1,1,1,0,1,0,1,1,1,1,1,1,1,1,1],[0,0,1,0,1,0,1,0,0,0,0,0,0,0,0],[1,1,1,0,1,0,1,1,1,1,1,1,1,0,1],[0,1,1,0,0,1,1,0,0,0,0,0,0,0,0],[1,1,0,0,1,1,1,1,1,1,0,1,1,0,1],[1,0,1,0,0,1,1,0,0,0,0,0,0,0,0],[1,0,0,0,1,0,1,1,1,1,0,1,0,1,1],[1,0,1,0,1,0,1,0,0,0,0,0,0,0,0],[1,1,0,0,0,1,1,1,1,0,1,1,1,1,1],[1,1,1,0,1,1,0,0,0,0,0,0,0,0,0],[1,0,1,0,1,1,1,1,1,1,1,1,1,1,1],[1,1,0,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]},{name:"Alarm clock",pixels:[[0,0,1,1,1,0,0,0,0,0,1,1,1,0,0],[0,1,1,1,0,1,1,1,1,1,0,1,1,1,0],[1,1,1,0,1,1,1,0,1,1,1,0,1,1,1],[1,1,0,1,1,1,1,0,1,1,1,1,0,1,1],[1,0,1,1,1,1,1,1,1,1,0,1,1,0,1],[0,0,1,1,1,1,1,1,1,0,1,1,1,0,0],[0,1,1,1,1,1,1,1,0,1,1,1,1,1,0],[0,1,0,0,1,0,0,0,1,1,1,0,0,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,0,1,1,1,1,1,0,1,1,1,1,1,0,0],[0,0,0,1,1,1,1,0,1,1,1,1,0,0,0],[0,0,1,0,0,1,1,1,1,1,0,0,1,0,0],[0,1,0,0,1,0,1,1,1,0,1,0,0,1,0],[0,0,1,1,0,0,0,0,0,0,0,1,1,0,0]]},{name:"Sun",pixels:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,0,1,1,1,1,1,1,1],[1,1,0,1,1,1,1,0,1,1,1,1,0,1,1],[1,1,1,0,1,1,1,1,1,1,1,0,1,1,1],[1,1,1,1,1,0,0,0,0,0,1,1,1,1,1],[1,1,1,1,0,0,0,0,0,0,0,1,1,1,1],[1,1,1,1,0,0,1,0,1,0,0,1,1,1,1],[1,0,0,1,0,0,0,0,0,0,0,1,0,0,1],[1,1,1,1,0,1,0,0,0,1,0,1,1,1,1],[1,1,1,1,0,0,1,1,1,0,0,1,1,1,1],[1,1,1,1,1,0,0,0,0,0,1,1,1,1,1],[1,1,1,0,1,1,1,1,1,1,1,0,1,1,1],[1,1,0,1,1,1,1,0,1,1,1,1,0,1,1],[1,1,1,1,1,1,1,0,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]}]},w={images:A};function O(o,e){const t=document.querySelectorAll(".hint__left"),n=document.querySelectorAll(".hint__top"),s=(i,a)=>{i.forEach((c,r)=>{const l=a[r];l.forEach((d,m)=>{const g=document.createElement("span");g.textContent=l[m],c.append(g)})})};s(t,o),s(n,e)}function P(o){const e=o.length,t=o[0].length,n=o.map(i=>i.reduce((a,c)=>(c===1?a[a.length-1]+=1:a[a.length-1]!==0&&a.push(0),a),[0]).filter(a=>a!==0));n.forEach(i=>{i.length===0&&i.push(0)});const s=Array.from({length:t},()=>[]);for(let i=0;i<t;i+=1){let a=0;for(let c=0;c<e;c+=1)o[c][i]===1?a+=1:a!==0&&(s[i].push(a),a=0);a!==0&&s[i].push(a),s[i].length===0&&s[i].push(0)}O(n,s)}const v=document.createElement("div"),f=document.createElement("div"),_=document.createElement("span");v.classList.add("modal");f.classList.add("modal-content");_.classList.add("close");_.innerHTML=`
<svg viewBox="0 0 25 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
  <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
    <g id="Icon-Set-Filled" sketch:type="MSLayerGroup" transform="translate(-469.000000, -1041.000000)" fill="#000000">
      <path d="M487.148,1053.48 L492.813,1047.82 C494.376,1046.26 494.376,1043.72 492.813,1042.16 C491.248,1040.59 488.712,1040.59 487.148,1042.16 L481.484,1047.82 L475.82,1042.16 C474.257,1040.59 471.721,1040.59 470.156,1042.16 C468.593,1043.72 468.593,1046.26 470.156,1047.82 L475.82,1053.48 L470.156,1059.15 C468.593,1060.71 468.593,1063.25 470.156,1064.81 C471.721,1066.38 474.257,1066.38 475.82,1064.81 L481.484,1059.15 L487.148,1064.81 C488.712,1066.38 491.248,1066.38 492.813,1064.81 C494.376,1063.25 494.376,1060.71 492.813,1059.15 L487.148,1053.48" id="cross" sketch:type="MSShapeGroup">
      </path>
    </g>
  </g>
</svg>
`;document.body.appendChild(v);v.appendChild(f);f.appendChild(_);function G(){const o=JSON.parse(localStorage.getItem("results")),e=o!==null?o:[],t=document.createElement("div");if(f.innerHTML="",f.appendChild(_),f.append(t),o!==null)e.forEach((n,s)=>{const i=n;let a=s;const[c,r,l,d]=[document.createElement("div"),document.createElement("span"),document.createElement("span"),document.createElement("span")];t.appendChild(c),c.appendChild(r),c.appendChild(l),c.appendChild(d),r.textContent=`${a+=1}. Name of the puzzle: ${i.name}`,l.textContent=`Difficulty: ${i.size}`,d.textContent=`Passage time: ${i.time}`});else{const n=document.createElement("span");t.append(n),n.textContent="No Data.."}v.style.display="flex"}function z(){v.style.display="none"}function D(o){o.target===v&&z()}document.addEventListener("click",D);_.addEventListener("click",z);function $(o){let t=JSON.parse(localStorage.getItem("results"))!==null?JSON.parse(localStorage.getItem("results")):[];t.push(o),t=t.sort((s,i)=>{const a=new Date(`1970-01-01T${s.time}`),c=new Date(`1970-01-01T${i.time}`);return a-c});const n=t.slice(0,5);localStorage.setItem("results",JSON.stringify(n))}function F(){G()}let M,x,u;function b(o){x=o}function Z(o){u=o}function V(o,e){const t=document.querySelectorAll(".column"),n=o;u=M,(!u||u.length!==t.length)&&(u=Array.from({length:t.length},()=>0));const s=(i,a)=>{if(M=u,i.classList.contains("cross")||(u[a]===0?u[a]=1:u[a]=0,!u.every((h,q)=>h===x.flat()[q])))return;e.pause();const r=e.getTime(),[l,d]=[document.querySelector(".main__options-select"),document.querySelector(".image__section")],m=l.value,g=Array.from(l.options).find(h=>h.value===m),C={size:g?g.textContent:"",name:d.value,time:r,sec:e.second};$(C),u=Array.from({length:t.length},()=>0),alert(`Массивы идентичны!, Время: ${r}`)};t.forEach((i,a)=>{i.removeEventListener("click",()=>s(i,a)),i.addEventListener("click",()=>s(i,a))}),P(n)}function I(o){const e=document.querySelectorAll(".column");u=Array.from({length:e.length},()=>0),M=u,e.forEach(t=>{const n=t;n.classList.remove("black","cross","cross_solution"),n.innerHTML=""}),o.pause(),o.restart()}function J(o){const e=[],[t,n,s,i]=[document.querySelector(".continue__btn"),document.querySelector(".main__options-select"),document.querySelector(".image__section"),document.querySelectorAll(".column")];i.forEach(l=>{l.classList.contains("cross")?e.push(1):e.push(0)});const a=n.value,c=s.value,r={resultImage:x,imageMatrix:u,crosses:e,sizeSelect:a,imageSelect:c,time:o};t.disabled=!1,localStorage.setItem("saveGame",JSON.stringify(r)),localStorage.setItem("continue",JSON.stringify(!1))}function S(){const[o,e]=[document.querySelectorAll(".hint__top"),document.querySelectorAll(".hint__left")];o.forEach(t=>{const n=t;n.innerHTML=""}),e.forEach(t=>{const n=t;n.innerHTML=""})}function R(){return new Promise(o=>{setTimeout(()=>{o()})})}const N=new Event("change");async function Q(o){const e=JSON.parse(localStorage.getItem("saveGame"));function t(n){const s=o;s.time=n.time,s.second=n.second,s.minute=n.minute,s.hour=n.hour,s.span.innerHTML=n.time}try{const{time:n,sizeSelect:s,imageSelect:i,crosses:a}=e,c=document.querySelector(".main__options-select");c.value=s,c.dispatchEvent(N),await R(),S();const r=document.querySelector(".image__section"),l=document.querySelectorAll(".column"),{imageMatrix:d}=e;r.value=i,r.dispatchEvent(N);let m=20;l.forEach((g,C)=>{const h=g;h.innerHTML="",h.classList.remove("black","cross","cross_solution"),setTimeout(()=>{d[C]===0&&h.classList.remove("black","cross","cross_solution"),d[C]===1&&(h.classList.remove("black","cross","cross_solution"),h.classList.add("black")),a[C]===1&&(h.classList.remove("black","cross","cross_solution"),h.classList.add("cross"),h.innerHTML=`
            <svg viewBox="0 0 25 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
                <g id="Icon-Set-Filled" sketch:type="MSLayerGroup" transform="translate(-469.000000, -1041.000000)" fill="#000000">
                  <path d="M487.148,1053.48 L492.813,1047.82 C494.376,1046.26 494.376,1043.72 492.813,1042.16 C491.248,1040.59 488.712,1040.59 487.148,1042.16 L481.484,1047.82 L475.82,1042.16 C474.257,1040.59 471.721,1040.59 470.156,1042.16 C468.593,1043.72 468.593,1046.26 470.156,1047.82 L475.82,1053.48 L470.156,1059.15 C468.593,1060.71 468.593,1063.25 470.156,1064.81 C471.721,1066.38 474.257,1066.38 475.82,1064.81 L481.484,1059.15 L487.148,1064.81 C488.712,1066.38 491.248,1066.38 492.813,1064.81 C494.376,1063.25 494.376,1060.71 492.813,1059.15 L487.148,1053.48" id="cross" sketch:type="MSShapeGroup">
                  </path>
                </g>
              </g>
            </svg>
          `)},m),m+=20}),Z(d),t(n)}catch(n){throw new Error(n.message)}}function j(){return new Promise(o=>{setTimeout(()=>{o()})})}const T=new Event("change");async function K(){try{const[o,e]=[document.querySelector(".main__options-select"),document.querySelectorAll(".option__size")],t=Math.floor(Math.random()*e.length);o.value=e[t].value,o.dispatchEvent(T),await j(),S();const[n,s]=[document.querySelector(".image__section"),document.querySelectorAll(".option__image")],i=Math.floor(Math.random()*e.length);n.value=s[i].value,n.dispatchEvent(T)}catch(o){throw new Error(o.message)}}function U(o){const e=document.querySelector(".main__options-select"),t=document.querySelector(".image__section"),n=document.querySelectorAll(".column"),s=t.value,i=e.value,c=w.images[i].find(l=>l.name===s).pixels.flat();let r=0;n.forEach((l,d)=>{const m=l;o.pause(),m.innerHTML="",m.classList.remove("black","cross","cross_solution"),setTimeout(()=>{c[d]===0?(m.classList.remove("black","cross","cross_solution"),m.classList.add("cross_solution"),m.innerHTML=`
        <svg viewBox="0 0 25 25" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">
          <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
            <g id="Icon-Set-Filled" sketch:type="MSLayerGroup" transform="translate(-469.000000, -1041.000000)" fill="#000000">
              <path d="M487.148,1053.48 L492.813,1047.82 C494.376,1046.26 494.376,1043.72 492.813,1042.16 C491.248,1040.59 488.712,1040.59 487.148,1042.16 L481.484,1047.82 L475.82,1042.16 C474.257,1040.59 471.721,1040.59 470.156,1042.16 C468.593,1043.72 468.593,1046.26 470.156,1047.82 L475.82,1053.48 L470.156,1059.15 C468.593,1060.71 468.593,1063.25 470.156,1064.81 C471.721,1066.38 474.257,1066.38 475.82,1064.81 L481.484,1059.15 L487.148,1064.81 C488.712,1066.38 491.248,1066.38 492.813,1064.81 C494.376,1063.25 494.376,1060.71 492.813,1059.15 L487.148,1053.48" id="cross" sketch:type="MSShapeGroup">
              </path>
            </g>
          </g>
        </svg>
      `):c[d]===1&&(m.classList.remove("black","cross","cross_solution"),m.classList.add("black"))},r),r+=20})}function W(o,e){const t=o,[n,s,i,a,c,r,l]=[document.createElement("div"),document.createElement("button"),document.createElement("button"),document.createElement("button"),document.createElement("button"),document.createElement("button"),document.createElement("button")];[s,i,a,c,r,l].forEach(g=>{g.classList.add("btn"),n.appendChild(g)}),s.addEventListener("click",()=>I(e)),i.addEventListener("click",()=>J(e)),a.addEventListener("click",()=>Q(e)),c.addEventListener("click",F),r.addEventListener("click",()=>U(e)),l.addEventListener("click",K),o.appendChild(n),t.className="main__section-buttons",n.className="main__block-buttons",s.classList.add("reset__btn"),a.classList.add("continue__btn"),s.textContent="Reset",i.textContent="Save",a.textContent="Continue",c.textContent="Results",r.textContent="Solution",l.textContent="Random Game";const m=JSON.parse(localStorage.getItem("saveGame"));a.disabled=m===null}class X{constructor(e,t=5){this.time=e,this.ground=new B(t,e),this.value=5,this.size=this.value,this.arrayPictures=w.images,this.matrixPicture=this.arrayPictures[this.size][0].pixels,[this.section,this.sectionButton,this.sizeControl,this.imageSection,this.container]=[document.createElement("section"),document.createElement("section"),document.createElement("select"),document.createElement("select"),document.createElement("div")],this.initGroundSize(),this.initButtonsSection(this.time),this.initImageSelection(this.value),this.initGameOnStartAsync()}initGroundSize(){const[e,t,n]=[document.createElement("option"),document.createElement("option"),document.createElement("option")];this.section.appendChild(this.container),this.container.appendChild(this.sizeControl),this.sizeControl.appendChild(e),this.sizeControl.appendChild(t),this.sizeControl.appendChild(n),this.sizeControl.className="main__options-select",this.container.className="options__container",this.section.className="select__ground-container",n.className="option__size",t.className="option__size",e.className="option__size",e.setAttribute("value","5"),t.setAttribute("value","10"),n.setAttribute("value","15"),e.textContent="5x5",t.textContent="10x10",n.textContent="15x15",this.sizeControl.value=this.value,this.sizeControl.addEventListener("change",()=>{this.size=+this.sizeControl.value,this.initImageSelection(this.size),this.ground.updatePlayground(this.size),this.initGameOnStartAsync(),this.handleChanged(),S()})}initImageSelection(e){this.arrayPictures=w.images[e],this.imageSection.innerHTML="",this.imageSection.className="image__section",this.container.appendChild(this.imageSection);const t=this.imageSection.cloneNode(!0);this.container.replaceChild(t,this.imageSection),this.imageSection=t,this.imageSection.removeEventListener("change",()=>this.handleChanged()),this.imageSection.addEventListener("change",()=>this.handleChanged()),this.arrayPictures.forEach(n=>{const s=document.createElement("option");this.imageSection.appendChild(s),s.className="option__image",s.textContent=n.name,s.setAttribute("value",`${n.name}`)})}initGameOnStartAsync(){(async()=>{try{await this.section.appendChild(this.ground.getElement()),b(this.matrixPicture),this.initGameOnStart()}catch(t){throw new Error(`Ошибка в АСИНХРОННОМ генерировании подсказок(${t})`)}})()}handleChanged(){const{value:e}=this.imageSection,n=this.arrayPictures.find(s=>s.name===e).pixels;this.matrixPicture=n,b(this.matrixPicture),I(this.time),S(),P(this.matrixPicture)}initGameOnStart(){const e=this.arrayPictures[0].pixels;V(e,this.time)}initButtonsSection(e){W(this.sectionButton,e)}getElementsButton(){return this.sectionButton}getMatrixPicture(){return this.matrixPicture}getElement(){return this.section}getValue(){return this.value}}const Y="/mitsuhitomeow-JSFE2023Q4/nonograms/svg/darkmodeSun.svg",e1="/mitsuhitomeow-JSFE2023Q4/nonograms/svg/darkmodeMoon.svg";function k(){const[o,e,t,n]=[document.querySelector(".header__title"),document.querySelector(".footer__title"),document.querySelector(".header__darkmode_btn"),document.querySelector(".sound__btn")];document.body.classList.toggle("darkmode__background"),o.classList.toggle("darkmode__title"),e.classList.toggle("darkmode__title"),t.classList.toggle("darkmode__active"),n.classList.toggle("darkmode__sound")}const H=[{name:"Sun",image:Y},{name:"Moon",image:e1}];function t1(o){let e=0;const[t,n]=[document.createElement("div"),document.createElement("img")];o.append(t),t.append(n),t.className="header__darkmode_btn",n.className=`header__image_${H[0].name.toLowerCase()} darkmode_image`;const s=r=>{const{name:l,image:d}=H[r];n.setAttribute("src",d),n.setAttribute("alt",l)},i=r=>{r===1?localStorage.setItem("darkmode",!0):localStorage.setItem("darkmode",!1)},a=()=>{e===0?e+=1:e-=1,n.innerHTML="",s(e),i(e)};s(e);const c=JSON.parse(localStorage.getItem("darkmode"));c===null&&localStorage.setItem("darkmode",!1),document.addEventListener("DOMContentLoaded",()=>{t.removeEventListener("click",()=>{a(),k()}),t.addEventListener("click",()=>{a(),k()}),c===!0&&(a(),k())})}const E=JSON.parse(localStorage.getItem("darkmode"));let L=E===null||E===!1?"#2b2b2b":"#fff";const y=[{class:"sound__on",imageHTML:`
      <?xml version="1.0" encoding="utf-8"?>
      <svg width="30" height="30" viewBox="-20 0 190 190" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M109.235 130.989C120.797 116.713 120.581 93.5461 108.36 79.5901L115.325 73.1741C130.587 90.6141 130.815 119.585 116.293 137.363L109.235 130.989ZM102.794 125.173L95.998 119.036C102.017 111.331 101.821 99.0421 95.299 91.6211L102.005 85.4441C111.455 96.2201 111.66 114.094 102.794 125.173ZM55.783 85.2681L84.79 65.5911L85.367 146.142L55.092 125.659L55.783 85.2681ZM30.383 117.566C30.383 114.158 30.239 99.4881 30.239 92.4051C30.239 86.3011 33.304 84.2981 38.206 84.2981C42.759 84.2981 47.243 84.7521 47.243 84.7521L47.529 126.563C47.529 126.563 41.78 127.244 38.434 127.244C32.879 127.243 30.383 124.291 30.383 117.566Z" fill="${L}"/>
      </svg>
    `},{class:"sound__off",imageHTML:`
      <?xml version="1.0" encoding="utf-8"?>
      <svg width="30" height="30" viewBox="-20 0 190 190" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M109.235 130.989C120.797 116.713 120.581 93.5461 108.36 79.5901L115.325 73.1741C130.587 90.6141 130.815 119.585 116.293 137.363L109.235 130.989ZM102.794 125.173L95.998 119.036C102.017 111.331 101.821 99.0421 95.299 91.6211L102.005 85.4441C111.455 96.2201 111.66 114.094 102.794 125.173ZM55.783 85.2681L84.79 65.5911L85.367 146.142L55.092 125.659L55.783 85.2681ZM30.383 117.566C30.383 114.158 30.239 99.4881 30.239 92.4051C30.239 86.3011 33.304 84.2981 38.206 84.2981C42.759 84.2981 47.243 84.7521 47.243 84.7521L47.529 126.563C47.529 126.563 41.78 127.244 38.434 127.244C32.879 127.243 30.383 124.291 30.383 117.566Z" fill="${L}"/>
      </svg>
    `}],n1=o=>{L=o===1?"#2b2b2b":"#fff"};function s1(o){let t=E===!1?1:0;const n=document.createElement("div");n.className="sound__btn";const s=()=>{n.innerHTML=y[0].imageHTML,o.append(n)},i=(c,r)=>{n1(c);let{imageHTML:l}=y[r];r===0?l=`
        <?xml version="1.0" encoding="utf-8"?>
        <svg width="30" height="30" viewBox="-20 0 190 190" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M109.235 130.989C120.797 116.713 120.581 93.5461 108.36 79.5901L115.325 73.1741C130.587 90.6141 130.815 119.585 116.293 137.363L109.235 130.989ZM102.794 125.173L95.998 119.036C102.017 111.331 101.821 99.0421 95.299 91.6211L102.005 85.4441C111.455 96.2201 111.66 114.094 102.794 125.173ZM55.783 85.2681L84.79 65.5911L85.367 146.142L55.092 125.659L55.783 85.2681ZM30.383 117.566C30.383 114.158 30.239 99.4881 30.239 92.4051C30.239 86.3011 33.304 84.2981 38.206 84.2981C42.759 84.2981 47.243 84.7521 47.243 84.7521L47.529 126.563C47.529 126.563 41.78 127.244 38.434 127.244C32.879 127.243 30.383 124.291 30.383 117.566Z" fill="${L}"/>
        </svg>
      `:l=`
        <?xml version="1.0" encoding="utf-8"?>
        <svg width="30" height="30" viewBox="-20 0 190 190" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M109.235 130.989C120.797 116.713 120.581 93.5461 108.36 79.5901L115.325 73.1741C130.587 90.6141 130.815 119.585 116.293 137.363L109.235 130.989ZM102.794 125.173L95.998 119.036C102.017 111.331 101.821 99.0421 95.299 91.6211L102.005 85.4441C111.455 96.2201 111.66 114.094 102.794 125.173ZM55.783 85.2681L84.79 65.5911L85.367 146.142L55.092 125.659L55.783 85.2681ZM30.383 117.566C30.383 114.158 30.239 99.4881 30.239 92.4051C30.239 86.3011 33.304 84.2981 38.206 84.2981C42.759 84.2981 47.243 84.7521 47.243 84.7521L47.529 126.563C47.529 126.563 41.78 127.244 38.434 127.244C32.879 127.243 30.383 124.291 30.383 117.566Z" fill="${L}"/>
        </svg>
      `,n.innerHTML=l},a=()=>{t===0?t+=1:t-=1,n.innerHTML="",i(t,0)};s(),document.addEventListener("DOMContentLoaded",()=>{const c=document.querySelector(".header__darkmode_btn");c.removeEventListener("click",a),c.addEventListener("click",a)}),console.log(E,L,y[0].imageHTML)}class i1{constructor(){this.header=null,this.footer=null,this.main=null,this.components=[],this.initHeader(),this.initMain(),this.initFooter()}initHeader(){this.header=document.createElement("header");const e=document.createElement("div"),t=document.createElement("h1");t.textContent="Nonograms",this.header.className="header",e.className="header__container container",t.className="header__title title",this.header.append(e),e.append(t),this.components.push(this.header),t1(e),s1(e)}initMain(){this.main=document.createElement("main");const[e,t]=[document.createElement("div"),document.createElement("div")],n=new p,s=new X(n);this.main.className="main",e.className="main__container container",this.main.append(e),e.append(s.getElementsButton()),e.append(s.getElement()),e.append(t),this.components.push(this.main)}initFooter(){this.footer=document.createElement("footer");const e=document.createElement("div"),t=document.createElement("h1");t.textContent="© RS School Production 2024",this.footer.className="footer",e.className="footer__container container",t.className="footer__title title",this.footer.append(e),e.append(t),this.components.push(this.footer)}getElement(){return this.components.forEach(e=>{document.body.append(e)})}}const o1=new i1;o1.getElement();
//# sourceMappingURL=index-Zb5BQT0L.js.map
