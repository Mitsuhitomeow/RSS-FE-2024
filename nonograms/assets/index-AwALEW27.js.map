{"version":3,"file":"index-AwALEW27.js","sources":["../../src/js/create-functions/classCreateStopwatch.js","../../src/js/create-elements/classCreatePlayground.js","../../src/js/game-process/initGame.js","../../src/js/create-elements/classCreateOptions.js","../../src/js/create-elements/classCreateElement.js","../../src/main.js"],"sourcesContent":["export default class Stopwatch {\n  constructor() {\n    this.second = 0;\n    this.minute = 0;\n    this.hour = 0;\n    this.time = '';\n    this.running = false;\n  }\n\n  start() {\n    this.time = `${Stopwatch.formatTime(this.hour)}:${Stopwatch.formatTime(this.minute)}:${Stopwatch.formatTime(this.second)}`;\n    this.running = true;\n    setInterval(() => {\n      this.tick();\n    }, 1000);\n  }\n\n  tick() {\n    this.second += 1;\n\n    if (this.second === 60) {\n      this.second = 0;\n      this.minute += 1;\n\n      if (this.minute === 60) {\n        this.minute = 0;\n        this.hour += 1;\n      }\n    }\n\n    this.time = `${Stopwatch.formatTime(this.hour)}:${Stopwatch.formatTime(this.minute)}:${Stopwatch.formatTime(this.second)}`;\n  }\n\n  static formatTime(value) {\n    return value < 10 ? `0${value}` : value;\n  }\n\n  getTime() {\n    return this.time;\n  }\n\n  isRunning() {\n    return this.running;\n  }\n}\n","export default class CreatePlayground {\n  constructor(size, time) {\n    this.ground = document.createElement('section');\n    this.columns = [];\n    this.matrix = [];\n    this.time = time;\n\n    this.initPlayground(size);\n    this.addClick();\n  }\n\n  updatePlayground(size) {\n    this.initPlayground(size);\n    this.addClick();\n  }\n\n  initPlayground(size) {\n    this.ground.innerHTML = '';\n    this.ground.className = `main__section-playground`;\n\n    for (let i = 0; i < size + 1; i += 1) {\n      const row = document.createElement('div');\n      this.ground.append(row);\n      row.className = `row`;\n\n      if (i === 0) {\n        row.className = `first__row`;\n      }\n\n      for (let j = 0; j < size + 1; j += 1) {\n        const column = document.createElement('div');\n        row.append(column);\n        column.className = `column`;\n\n        if (i === 0) {\n          column.className = `hint hint__left hint__background`;\n        }\n\n        if (j === 0) {\n          column.className = `hint hint__top hint__background`;\n        }\n\n        this.columns.push(column);\n\n        // if (i !== 0 || j !== 0) {\n        //   this.matrix.push([]);\n        // }\n      }\n    }\n    // console.log(this.matrix)\n  }\n\n  addClick() {\n    this.columns.forEach((column) => {\n      const elem = column;\n\n      if (column.classList.contains('column')) {\n        elem.addEventListener('click', () => {\n          if (!this.time.isRunning()) {\n            this.time.start();\n          }\n          if (column.innerHTML === '' && !column.classList.contains('cross')) {\n            column.classList.toggle('black');\n          } else {\n            column.classList.remove('black');\n          }\n        });\n\n        elem.addEventListener('contextmenu', (event) => {\n          event.preventDefault();\n          if (!this.time.isRunning()) {\n            this.time.start();\n          }\n          if (column.innerHTML === '' && !column.classList.contains('black')) {\n            elem.classList.toggle('cross');\n            elem.innerHTML = `\n              <svg width=\"28px\" height=\"28px\" viewBox=\"0 0 25 25\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns:sketch=\"http://www.bohemiancoding.com/sketch/ns\">\n                <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\" sketch:type=\"MSPage\">\n                  <g id=\"Icon-Set-Filled\" sketch:type=\"MSLayerGroup\" transform=\"translate(-469.000000, -1041.000000)\" fill=\"#000000\">\n                    <path d=\"M487.148,1053.48 L492.813,1047.82 C494.376,1046.26 494.376,1043.72 492.813,1042.16 C491.248,1040.59 488.712,1040.59 487.148,1042.16 L481.484,1047.82 L475.82,1042.16 C474.257,1040.59 471.721,1040.59 470.156,1042.16 C468.593,1043.72 468.593,1046.26 470.156,1047.82 L475.82,1053.48 L470.156,1059.15 C468.593,1060.71 468.593,1063.25 470.156,1064.81 C471.721,1066.38 474.257,1066.38 475.82,1064.81 L481.484,1059.15 L487.148,1064.81 C488.712,1066.38 491.248,1066.38 492.813,1064.81 C494.376,1063.25 494.376,1060.71 492.813,1059.15 L487.148,1053.48\" id=\"cross\" sketch:type=\"MSShapeGroup\">\n                    </path>\n                  </g>\n                </g>\n              </svg>\n            `;\n          } else {\n            elem.classList.remove('cross');\n            elem.innerHTML = '';\n          }\n        });\n      }\n    });\n  }\n\n  getElement() {\n    return this.ground;\n  }\n}\n","export default function initGame(data) {\n  const squares = document.querySelectorAll('.column');\n  const matrixPicture = data;\n  const matrix = [];\n\n  squares.forEach(() => matrix.push(0));\n\n  squares.forEach((square, index) => {\n    square.addEventListener('click', () => {\n      console.log(matrix, '--', index);\n    });\n  });\n\n  console.log(matrixPicture);\n}\n","import CreatePlayground from './classCreatePlayground';\nimport nonograms from '../../nongrams-db.json';\nimport initGame from '../game-process/initGame';\n\nexport default class CreateOptions {\n  constructor(time) {\n    this.ground = new CreatePlayground(5, time);\n    this.value = 5;\n    this.size = this.value;\n    this.arrayPictures = nonograms.images;\n    this.matrixPicture = this.arrayPictures[this.size][0].pixels;\n    [this.section, this.sizeControl, this.imageSection, this.container] = [\n      document.createElement('section'),\n      document.createElement('select'),\n      document.createElement('select'),\n      document.createElement('div'),\n    ];\n\n    this.initGroundSize();\n    this.initImageSelection(this.value);\n  }\n\n  initGroundSize() {\n    const [optionEasy, optionMedium, optionHard] = [\n      document.createElement('option'),\n      document.createElement('option'),\n      document.createElement('option'),\n    ];\n\n    this.section.appendChild(this.container);\n    this.container.appendChild(this.sizeControl);\n    this.sizeControl.appendChild(optionEasy);\n    this.sizeControl.appendChild(optionMedium);\n    this.sizeControl.appendChild(optionHard);\n\n    this.sizeControl.className = `main__options-select`;\n    this.container.className = `options__container`;\n\n    optionEasy.setAttribute('value', '5');\n    optionMedium.setAttribute('value', '10');\n    optionHard.setAttribute('value', '15');\n\n    optionEasy.textContent = '5x5';\n    optionMedium.textContent = '10x10';\n    optionHard.textContent = '15x15';\n\n    this.sizeControl.value = this.value;\n\n    /* Событие, которое отслеживает опшены у селект.\n     *\n     *  При выборе размера поля:\n     *   1. Рендерит таблицу полей.\n     *   2. Изменяет у другого селекта, меню картинок, под нужное поле.\n     */\n    this.sizeControl.addEventListener('change', () => {\n      this.size = +this.sizeControl.value;\n      this.initImageSelection(this.size);\n      this.ground.updatePlayground(this.size);\n      console.log('-------');\n    });\n\n    this.section.appendChild(this.ground.getElement());\n  }\n\n  initImageSelection(size) {\n    const notOption = document.createElement('option');\n    this.arrayPictures = nonograms.images[size];\n\n    this.imageSection.innerHTML = '';\n    this.imageSection.className = 'image__section';\n    notOption.textContent = '---';\n\n    this.imageSection.appendChild(notOption);\n    this.container.appendChild(this.imageSection);\n\n    const newImageSection = this.imageSection.cloneNode(true);\n    this.container.replaceChild(newImageSection, this.imageSection);\n    this.imageSection = newImageSection;\n\n    /* Событие, которое отслеживает опшены у селект.\n     *\n     *  При выборе опшены, выводит матрицу картинки.\n     */\n\n    this.handleChange = () => {\n      const { value } = this.imageSection;\n\n      if (value === '---') return;\n\n      const foundImage = this.arrayPictures.find(\n        (image) => image.name === value\n      );\n      this.matrixPicture = foundImage.pixels;\n\n      initGame(this.matrixPicture);\n    };\n\n    /**\n     * Перезаписываю событие, избавляюсь от постоянно увеличивающегося вывода\n     */\n\n    this.imageSection.removeEventListener('change', this.handleChange);\n    this.imageSection.addEventListener('change', this.handleChange);\n    /* ---------------------- */\n\n    this.arrayPictures.forEach((element) => {\n      const option = document.createElement('option');\n      this.imageSection.appendChild(option);\n      option.textContent = element.name;\n      option.setAttribute('value', `${element.name}`);\n    });\n  }\n\n  getMatrixPicture() {\n    return this.matrixPicture;\n  }\n\n  getElement() {\n    return this.section;\n  }\n\n  getValue() {\n    return this.value;\n  }\n}\n","import Stopwatch from '../create-functions/classCreateStopwatch';\nimport CreateOptions from './classCreateOptions';\n\nexport default class CreateElement {\n  constructor() {\n    this.header = null;\n    this.footer = null;\n    this.main = null;\n\n    this.components = [];\n\n    this.initHeader();\n    this.initMain();\n    this.initFooter();\n  }\n\n  initHeader() {\n    this.header = document.createElement('header');\n\n    const div = document.createElement('div');\n    const title = document.createElement('h1');\n\n    title.textContent = 'Nonograms';\n\n    this.header.className = `header`;\n    div.className = `header__container container`;\n    title.className = `header__title title`;\n\n    this.header.append(div);\n    div.append(title);\n\n    this.components.push(this.header);\n  }\n\n  initMain() {\n    this.main = document.createElement('main');\n    const container = document.createElement('div');\n    const timeSection = document.createElement('div');\n    const timeTick = document.createElement('span');\n\n    const time = new Stopwatch();\n    setInterval(() => {\n      timeTick.innerHTML = '';\n      timeTick.textContent = time.getTime();\n    }, 1000);\n\n    const options = new CreateOptions(time);\n\n    this.main.className = `main`;\n    container.className = `main__container container`;\n\n    this.main.append(container);\n    container.append(options.getElement());\n    container.append(timeSection);\n    timeSection.append(timeTick);\n\n    this.components.push(this.main);\n  }\n\n  initFooter() {\n    this.footer = document.createElement('footer');\n\n    const div = document.createElement('div');\n    const title = document.createElement('h1');\n\n    title.textContent = '© RS School Production 2024';\n\n    this.footer.className = `footer`;\n    div.className = `footer__container container`;\n    title.className = `footer__title title`;\n\n    this.footer.append(div);\n    div.append(title);\n\n    this.components.push(this.footer);\n  }\n\n  getElement() {\n    return this.components.forEach((component) => {\n      document.body.append(component);\n    });\n  }\n}\n","import CreateElement from './js/create-elements/classCreateElement';\nimport './styles/main.scss';\n\nconst app = new CreateElement();\n\napp.getElement();\n"],"names":["Stopwatch","value","CreatePlayground","size","time","i","row","j","column","elem","event","initGame","data","squares","matrixPicture","matrix","square","index","CreateOptions","nonograms","optionEasy","optionMedium","optionHard","notOption","newImageSection","foundImage","image","element","option","CreateElement","div","title","container","timeSection","timeTick","options","component","app"],"mappings":"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"}