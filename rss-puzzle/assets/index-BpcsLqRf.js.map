{"version":3,"file":"index-BpcsLqRf.js","sources":["../../src/app/utils/create-components.ts","../../src/app/utils/create-buttons.ts","../../src/app/components/button/button.ts","../../src/app/utils/create-inputs.ts","../../src/app/components/inputs/input.ts","../../src/app/services/local-storage.service.ts","../../src/app/pages/authorization/registration-form/localstorage-form.ts","../../src/app/pages/authorization/registration-form/form-auth.ts","../../src/app/utils/create-images.ts","../../src/assets/errorIcon.svg","../../src/app/pages/authorization/errors-validation/errors-validation.ts","../../src/app/pages/authorization/auth-page.ts","../../src/app/app.ts","../../src/main.ts"],"sourcesContent":["export default class Component<T extends HTMLElement = HTMLElement> {\n  protected children: Component[] = [];\n\n  protected node: T;\n\n  constructor({ tag = 'div', className = '', text = '' }, ...children: Component[]) {\n    const node = document.createElement(tag) as T;\n    node.className = className;\n    node.textContent = text;\n    this.node = node;\n\n    if (children) {\n      this.appendChildren(children);\n    }\n  }\n\n  public append(child: Component): void {\n    this.children.push(child);\n    this.node.append(child.getNode());\n  }\n\n  public appendChildren(children: Component[]): void {\n    children.forEach((el) => {\n      this.append(el);\n    });\n  }\n\n  public getNode(): T {\n    return this.node;\n  }\n\n  public getChildren(): Component[] {\n    return this.children;\n  }\n\n  public setTextContent(content: string): void {\n    this.node.textContent = content;\n  }\n\n  public setAttribute(attribute: string, value: string): void {\n    this.node.setAttribute(attribute, value);\n  }\n\n  public removeAttribute(attribute: string): void {\n    this.node.removeAttribute(attribute);\n  }\n\n  public toggleClass(className: string): void {\n    this.node.classList.toggle(className);\n  }\n\n  public addListener(event: string, listener: () => void, options = false): void {\n    this.node.addEventListener(event, listener, options);\n  }\n\n  public removeListener(event: string, listener: () => void, options = false): void {\n    this.node.removeEventListener(event, listener, options);\n  }\n\n  public destroyChildren(): void {\n    const childrenNodes = this.node.childNodes as NodeListOf<HTMLElement>;\n    childrenNodes.forEach((child: HTMLElement) => {\n      if (child instanceof Component) {\n        child.destroy();\n      }\n    });\n    this.children.length = 0;\n  }\n\n  public destroy(): void {\n    this.destroyChildren();\n    this.node.remove();\n  }\n}\n","import Component from './create-components';\nimport type { ButtonProps } from '../interfaces/component.interface';\n\nexport default class Button extends Component {\n  protected onClick!: () => void;\n\n  constructor({ text, onClick, className, attribute }: ButtonProps) {\n    super({ tag: 'button', className, text });\n    if (onClick) {\n      this.onClick = onClick;\n      this.addListener('click', this.onClick);\n    }\n    if (attribute) {\n      this.setAttribute('type', attribute);\n    }\n  }\n\n  public destroy(): void {\n    this.removeListener('click', this.onClick);\n    super.destroy();\n  }\n}\n","import styles from './button.module.scss';\nimport Button from '../../utils/create-buttons';\nimport type { ButtonProps } from '../../interfaces/component.interface';\n\nexport default function ButtonComponent({ text, onClick, className, attribute }: ButtonProps) {\n  return new Button({\n    text,\n    className: `${styles.btn} ${styles.className || ''} ${className}`,\n    onClick,\n    attribute,\n  });\n}\n","import type { InputProps } from '../interfaces/component.interface';\nimport Component from './create-components';\n\nexport default class InputComponent extends Component {\n  protected placeholder;\n\n  constructor({ placeholder, className, types }: InputProps) {\n    super({ tag: 'input', className });\n\n    this.placeholder = placeholder;\n    this.node = this.getNode();\n\n    const inputType = this.node as HTMLInputElement;\n    inputType.placeholder = placeholder;\n\n    if (types) {\n      inputType.type = types;\n    }\n  }\n}\n","import InputComponent from '../../utils/create-inputs';\nimport styles from './input.module.scss';\n\nexport const InputFirstName = new InputComponent({\n  placeholder: 'First Name',\n  className: `input ${styles.input__name}`,\n});\n\nexport const InputLastName = new InputComponent({\n  placeholder: 'Last Name',\n  className: `input ${styles.input__name}`,\n});\n","export class StorageService<T> {\n  private storageKey: string;\n\n  constructor(storageKey: string) {\n    this.storageKey = storageKey;\n  }\n\n  private getStorageKey(key: string): string {\n    return `${this.storageKey}_${key}`;\n  }\n\n  public setStorageKey(key: string, data: T): void {\n    const storageKey = this.getStorageKey(key);\n    localStorage.setItem(storageKey, JSON.stringify(data));\n  }\n\n  public getData(key: string): T {\n    const storageKey = this.getStorageKey(key.toString());\n    const data = localStorage.getItem(storageKey);\n    return data ? JSON.parse(data) : null;\n  }\n}\n\nexport const localStorageService = new StorageService('authorization');\n","import { localStorageService } from '../../../services/local-storage.service';\n\ntype UserTypes = {\n  id: number;\n  firstName: string;\n  lastName: string;\n  online: boolean;\n  data?: 'object'; // для данных пользователя игры\n};\n\nexport default function btnLogInClick() {\n  const inputValues: string[] = [];\n  const colletionNames = document.getElementsByTagName('input');\n  const regex = /^[A-Z][a-z]{2,}$/;\n\n  for (let i = 0; i < colletionNames.length; i += 1) {\n    inputValues.push(colletionNames[i].value);\n  }\n\n  if (!(regex.test(inputValues[0]) && regex.test(inputValues[1]))) {\n    return;\n  }\n\n  const user: UserTypes = {\n    id: 1,\n    firstName: inputValues[0],\n    lastName: inputValues[1],\n    online: false,\n  };\n\n  const userValues = `${inputValues[0]}_${inputValues[1]}`;\n\n  const storageAuth = localStorageService.getData('users');\n  if (storageAuth === null) {\n    localStorageService.setStorageKey('users', [user]);\n  }\n\n  if (Array.isArray(storageAuth)) {\n    const storageId = storageAuth[storageAuth.length - 1].id;\n    const storageValues = `${storageAuth[storageAuth.length - 1].firstName}_${storageAuth[storageAuth.length - 1].lastName}`;\n\n    if (storageValues === userValues) {\n      // console.log('yes');\n    } else if (storageValues !== null && storageValues !== userValues) {\n      user.id = storageId + 1;\n      storageAuth.push(user);\n      localStorageService.setStorageKey('users', storageAuth);\n    }\n  }\n\n  const main = document.querySelector('main');\n  if (main) {\n    main.style.transform = 'translateX(-100%)';\n    main.style.opacity = '.5';\n  }\n}\n","import ButtonComponent from '../../../components/button/button';\nimport Component from '../../../utils/create-components';\nimport { InputFirstName, InputLastName } from '../../../components/inputs/input';\nimport styles from './form.module.scss';\nimport btnLogInClick from './localstorage-form';\n\nconst Form = new Component(\n  {\n    tag: 'form',\n    className: `form ${styles.form}`,\n  },\n\n  InputFirstName,\n  InputLastName,\n  ButtonComponent({\n    text: 'Login',\n    onClick: btnLogInClick,\n    className: 'button__log',\n    attribute: 'button',\n  }),\n);\n\nexport default Form;\n","import type { ImageProps } from '../interfaces/component.interface';\nimport Component from './create-components';\n\nexport default class ImageComponent extends Component {\n  constructor({ className, src, alt, callback }: ImageProps) {\n    super({ tag: 'img', className });\n\n    if (alt) {\n      this.setAttribute('alt', alt);\n    }\n\n    this.setAttribute('src', src);\n\n    if (callback) {\n      this.addListener('click', callback);\n    }\n  }\n}\n","export default \"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%2022c5.523%200%2010-4.477%2010-10S17.523%202%2012%202%202%206.477%202%2012s4.477%2010%2010%2010zm-1.5-5.009c0-.867.659-1.491%201.491-1.491.85%200%201.509.624%201.509%201.491%200%20.867-.659%201.509-1.509%201.509-.832%200-1.491-.642-1.491-1.509zM11.172%206a.5.5%200%200%200-.499.522l.306%207a.5.5%200%200%200%20.5.478h1.043a.5.5%200%200%200%20.5-.478l.305-7a.5.5%200%200%200-.5-.522h-1.655z'%20fill='%23a01506'/%3e%3c/svg%3e\"","import styles from './errors-validation.module.scss';\nimport Component from '../../../utils/create-components';\nimport ImageComponent from '../../../utils/create-images';\nimport errorIcon from './../../../../assets/errorIcon.svg';\n\ntype StateProps = 'active' | 'disabled';\n\ninterface ErrorsProps {\n  state: StateProps;\n  dataErrors: string;\n}\n\nexport default function ErrorValidation({ state, dataErrors }: ErrorsProps) {\n  return new Component(\n    {\n      tag: 'div',\n      className: `${styles.error__container} ${state}`,\n    },\n    new Component(\n      {\n        tag: 'div',\n        className: `${styles.icon__container}`,\n      },\n      new ImageComponent({\n        className: `${styles.error__icon}`,\n        src: errorIcon,\n        alt: 'Error icon',\n      }),\n    ),\n    new Component({\n      tag: 'p',\n      className: `${styles.error__img}`,\n      text: dataErrors,\n    }),\n    new ImageComponent({\n      className: `${styles.error__img_disabled}`,\n      src: '',\n      alt: 'close',\n    }),\n  );\n}\n","import styles from './auth.module.scss';\nimport Component from '../../utils/create-components';\nimport Form from './registration-form/form-auth';\nimport ErrorValidation from './errors-validation/errors-validation';\n\ninterface AuthProps {\n  className: string;\n  child: Component<HTMLElement>;\n}\n\nclass Authorization extends Component {\n  constructor({ className, child }: AuthProps) {\n    super({ tag: 'main', className });\n    this.append(child);\n  }\n}\n\nconst AuthPage = new Authorization({\n  className: `main ${styles.main}`,\n  child: new Component(\n    {\n      tag: 'div',\n      className: styles.main__container,\n    },\n\n    /**\n     * @params Form - экземпляр класса Component, для создания регистрации.\n     */\n    Form,\n\n    /**\n     * Функция для отображения ошибки валидации.\n     * @params state: 'active' | 'disabled' - вкл/выкл отображения ошибки.\n     * @params dataErrors: 'string' - текст ошибки.\n     */\n    ErrorValidation({\n      state: 'active',\n      dataErrors: 'Errors: ...',\n    }),\n  ),\n});\n\nexport default AuthPage;\n","import AuthPage from './pages/authorization/auth-page';\n\nexport default class App {\n  private authPage;\n\n  constructor() {\n    this.authPage = AuthPage;\n  }\n\n  public start(): void {\n    document.body.append(this.authPage.getNode());\n  }\n}\n","import './styles/style.css';\nimport './styles/normalize.css';\n\nimport App from './app/app';\n\nconst app = new App();\napp.start();\n"],"names":["Component","tag","className","text","children","__publicField","node","child","el","content","attribute","value","event","listener","options","Button","onClick","ButtonComponent","styles","InputComponent","placeholder","types","inputType","InputFirstName","InputLastName","StorageService","storageKey","key","data","localStorageService","btnLogInClick","inputValues","colletionNames","regex","i","user","userValues","storageAuth","storageId","storageValues","main","Form","ImageComponent","src","alt","callback","errorIcon","ErrorValidation","state","dataErrors","Authorization","AuthPage","App","app"],"mappings":"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"}