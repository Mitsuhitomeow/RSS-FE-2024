var f=Object.defineProperty;var y=(r,e,t)=>e in r?f(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var l=(r,e,t)=>(y(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const b="_main_1cbvb_1",v="_main__container_1cbvb_10",N="_main__error_1cbvb_14",h={main:b,main__container:v,main__error:N};class a{constructor({tag:e="div",className:t="",text:n=""},...s){l(this,"children",[]);l(this,"node");const o=document.createElement(e);o.className=t,o.textContent=n,this.node=o,s&&this.appendChildren(s)}append(e){this.children.push(e),this.node.append(e.getNode())}appendChildren(e){e.forEach(t=>{this.append(t)})}getNode(){return this.node}getChildren(){return this.children}setTextContent(e){this.node.textContent=e}setAttribute(e,t){this.node.setAttribute(e,t)}removeAttribute(e){this.node.removeAttribute(e)}toggleClass(e){this.node.classList.toggle(e)}addListener(e,t,n=!1){this.node.addEventListener(e,t,n)}removeListener(e,t,n=!1){this.node.removeEventListener(e,t,n)}destroyChildren(){this.node.childNodes.forEach(t=>{t instanceof a&&t.destroy()}),this.children.length=0}destroy(){this.destroyChildren(),this.node.remove()}}const $="_btn_1lvsz_1",g={btn:$};class A extends a{constructor({text:t,onClick:n,className:s,attribute:o}){super({tag:"button",className:s,text:t});l(this,"onClick");n&&(this.onClick=n,this.addListener("click",this.onClick)),o&&this.setAttribute("type",o)}destroy(){this.removeListener("click",this.onClick),super.destroy()}}function L({text:r,onClick:e,className:t,attribute:n}){return new A({text:r,className:`${g.btn} ${g.className||""} ${t}`,onClick:e,attribute:n})}class w extends a{constructor({placeholder:t,className:n,types:s,minLength:o,required:i,pattern:d}){super({tag:"input",className:n});l(this,"placeholder");this.placeholder=t,this.node=this.getNode();const c=this.node;c.placeholder=t,s&&(c.type=s),i&&this.setAttributeRequired(i),o&&this.setAttribute("minLength",o),d&&this.setAttribute("pattern",d)}setAttributeRequired(t){this.node.setAttribute(t,t)}}const x="_input__name_1ws0v_1",S={input__name:x};function p({placeholder:r,className:e,minLength:t,required:n,pattern:s}){return new w({placeholder:r,className:`${e} ${S.input__name}`,minLength:t,required:n,pattern:s})}const C="_form_1ibo1_1",E={form:C};class K{constructor(e){l(this,"storageKey");this.storageKey=e}getStorageKey(e){return`${this.storageKey}_${e}`}setStorageKey(e,t){const n=this.getStorageKey(e);localStorage.setItem(n,JSON.stringify(t))}getData(e){const t=this.getStorageKey(e.toString()),n=localStorage.getItem(t);return n?JSON.parse(n):null}}const _=new K("authorization");function I(){const r=document.getElementsByClassName("error_form")[0];r.classList.contains("disabled")&&(r.classList.remove("disabled"),r.classList.add("active"),setTimeout(()=>{r.classList.contains("active")&&(r.classList.remove("active"),r.classList.add("disabled"))},3e3))}function z(){const r=[],e=document.getElementsByTagName("input"),t=/^[A-Z][a-z]{2,}$/,n=/^[A-Z][a-z]{3,}$/;for(let c=0;c<e.length;c+=1)r.push(e[c].value);if(!(t.test(r[0].trim())&&n.test(r[1].trim()))){I();return}const s={id:1,firstName:r[0],lastName:r[1],online:!1},o=`${r[0]}_${r[1]}`,i=_.getData("users");if(i===null&&_.setStorageKey("users",[s]),Array.isArray(i)){const c=i[i.length-1].id,m=`${i[i.length-1].firstName}_${i[i.length-1].lastName}`;m===o||m!==null&&m!==o&&(s.id=c+1,i.push(s),_.setStorageKey("users",i))}const d=document.querySelector("main");d&&(d.style.transform="translateX(-100%)",d.style.opacity=".5")}const O=new a({tag:"form",className:`form ${E.form}`},p({placeholder:"First Name: Alexey",className:"input",minLength:"3",required:"required",pattern:"^[A-Z][a-z]{2,}$"}),p({placeholder:"First Name: Melnikov",className:"input",minLength:"4",required:"required",pattern:"^[A-Z][a-z]{3,}$"}),L({text:"Login",onClick:z,className:"button__log",attribute:"submit"})),P="_error__container_u436b_1",q="_error__icon_u436b_11",F="_error__icon_container_u436b_15",V="_error__text_u436b_19",u={error__container:P,error__icon:q,error__icon_container:F,error__text:V};class B extends a{constructor({className:e,src:t,alt:n,callback:s}){super({tag:"img",className:e}),n&&this.setAttribute("alt",n),this.setAttribute("src",t),s&&this.addListener("click",s)}}const M="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M12%2022c5.523%200%2010-4.477%2010-10S17.523%202%2012%202%202%206.477%202%2012s4.477%2010%2010%2010zm-1.5-5.009c0-.867.659-1.491%201.491-1.491.85%200%201.509.624%201.509%201.491%200%20.867-.659%201.509-1.509%201.509-.832%200-1.491-.642-1.491-1.509zM11.172%206a.5.5%200%200%200-.499.522l.306%207a.5.5%200%200%200%20.5.478h1.043a.5.5%200%200%200%20.5-.478l.305-7a.5.5%200%200%200-.5-.522h-1.655z'%20fill='%23a01506'/%3e%3c/svg%3e";function T({dataErrors:r}){return new a({tag:"div",className:`error_form disabled ${u.error__container}`},new a({tag:"div",className:`${u.error__icon_container}`},new B({className:`${u.error__icon}`,src:M,alt:"Error icon"})),new a({tag:"p",className:`${u.error__text}`,text:r}))}class R extends a{constructor({className:e,child:t}){super({tag:"main",className:e}),this.append(t)}}const Z=new R({className:`main ${h.main}`,child:new a({tag:"div",className:h.main__container},O,T({dataErrors:"Error: field is empty..."}))});class k{constructor(){l(this,"authPage");this.authPage=Z}start(){document.body.append(this.authPage.getNode())}}const G=new k;G.start();
//# sourceMappingURL=index-DXRkcuCD.js.map
